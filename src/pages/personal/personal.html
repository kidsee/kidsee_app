<base-header title="{{'personal' | translate}}"></base-header>

<ion-content padding class="under-nav-margin">
    <ion-list>
        <ion-card *ngFor="let post of viewPosts" (click)="gotoPost(post.id)">
            <ion-card-header>
                <ion-card-title>{{post?.title}}</ion-card-title>
                <ion-note class="italic">
                    {{'postedBy' | translate}}{{post.user.username}}
                </ion-note>
            </ion-card-header>
            <ion-card-content>{{post?.content}}</ion-card-content>
            <button ion-button icon-left clear small>
                <ion-icon name="text"></ion-icon>
                <div>{{post?.comments?.length || 0}} {{'comments' | translate}}</div>
            </button>
        </ion-card>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <ion-fab bottom right>
        <button ion-fab (click)="createpost()" color="secondary">
            <ion-icon name="add-circle"></ion-icon>
        </button>
    </ion-fab>
</ion-content>
